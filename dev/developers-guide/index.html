<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Developers guide · RxInferServer</title><meta name="title" content="Developers guide · RxInferServer"/><meta property="og:title" content="Developers guide · RxInferServer"/><meta property="twitter:title" content="Developers guide · RxInferServer"/><meta name="description" content="A RESTful HTTP server implementation for RxInfer.jl, a reactive message passing inference engine for probabilistic models."/><meta property="og:description" content="A RESTful HTTP server implementation for RxInfer.jl, a reactive message passing inference engine for probabilistic models."/><meta property="twitter:description" content="A RESTful HTTP server implementation for RxInfer.jl, a reactive message passing inference engine for probabilistic models."/><meta property="og:url" content="https://server.rxinfer.com/developers-guide/"/><meta property="twitter:url" content="https://server.rxinfer.com/developers-guide/"/><link rel="canonical" href="https://server.rxinfer.com/developers-guide/"/><script data-outdated-warner src="../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../search_index.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-mocha.css" data-theme-name="catppuccin-mocha"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-macchiato.css" data-theme-name="catppuccin-macchiato"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-frappe.css" data-theme-name="catppuccin-frappe"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-latte.css" data-theme-name="catppuccin-latte"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../">RxInferServer</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../">Home</a></li><li><a class="tocitem" href="../getting-started/">Getting Started</a></li><li><a class="tocitem" href="../api/design-proposal/">API design</a></li><li><a class="tocitem" href="../configuration/">Configuration</a></li><li class="is-active"><a class="tocitem" href>Developers guide</a><ul class="internal"><li><a class="tocitem" href="#OpenAPI-Specification-and-Code-Generation"><span>OpenAPI Specification and Code Generation</span></a></li><li><a class="tocitem" href="#API-Reference"><span>API Reference</span></a></li></ul></li><li><a class="tocitem" href="../models/">Models</a></li><li><a class="tocitem" href="../database/">Database</a></li><li><a class="tocitem" href="../logging/">Logging</a></li><li><span class="tocitem">OpenAPI Documentation</span><ul><li><input class="collapse-toggle" id="menuitem-9-1" type="checkbox"/><label class="tocitem" for="menuitem-9-1"><span class="docs-label">Server</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../openapi/README/">Overview</a></li><li><input class="collapse-toggle" id="menuitem-9-1-2" type="checkbox"/><label class="tocitem" for="menuitem-9-1-2"><span class="docs-label">Apis</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../openapi/Apis/AuthenticationApi/">AuthenticationApi</a></li><li><a class="tocitem" href="../openapi/Apis/ModelsApi/">ModelsApi</a></li><li><a class="tocitem" href="../openapi/Apis/ServerApi/">ServerApi</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-9-1-3" type="checkbox"/><label class="tocitem" for="menuitem-9-1-3"><span class="docs-label">Models</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../openapi/Models/AttachMetadataToEventRequest/">AttachMetadataToEventRequest</a></li><li><a class="tocitem" href="../openapi/Models/CreateModelRequest/">CreateModelRequest</a></li><li><a class="tocitem" href="../openapi/Models/CreateModelResponse/">CreateModelResponse</a></li><li><a class="tocitem" href="../openapi/Models/CreatedModelInfo/">CreatedModelInfo</a></li><li><a class="tocitem" href="../openapi/Models/DeleteModelRequest/">DeleteModelRequest</a></li><li><a class="tocitem" href="../openapi/Models/EpisodeInfo/">EpisodeInfo</a></li><li><a class="tocitem" href="../openapi/Models/ErrorResponse/">ErrorResponse</a></li><li><a class="tocitem" href="../openapi/Models/InferRequest/">InferRequest</a></li><li><a class="tocitem" href="../openapi/Models/InferResponse/">InferResponse</a></li><li><a class="tocitem" href="../openapi/Models/LearnRequest/">LearnRequest</a></li><li><a class="tocitem" href="../openapi/Models/LearnResponse/">LearnResponse</a></li><li><a class="tocitem" href="../openapi/Models/LightweightModelDetails/">LightweightModelDetails</a></li><li><a class="tocitem" href="../openapi/Models/ModelDetails/">ModelDetails</a></li><li><a class="tocitem" href="../openapi/Models/ModelList/">ModelList</a></li><li><a class="tocitem" href="../openapi/Models/ModelState/">ModelState</a></li><li><a class="tocitem" href="../openapi/Models/NotFoundResponse/">NotFoundResponse</a></li><li><a class="tocitem" href="../openapi/Models/PingResponse/">PingResponse</a></li><li><a class="tocitem" href="../openapi/Models/ServerInfo/">ServerInfo</a></li><li><a class="tocitem" href="../openapi/Models/SuccessResponse/">SuccessResponse</a></li><li><a class="tocitem" href="../openapi/Models/TokenResponse/">TokenResponse</a></li><li><a class="tocitem" href="../openapi/Models/UnauthorizedResponse/">UnauthorizedResponse</a></li></ul></li></ul></li><li><input class="collapse-toggle" id="menuitem-9-2" type="checkbox"/><label class="tocitem" for="menuitem-9-2"><span class="docs-label">Client</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../openapi/README/">Overview</a></li><li><input class="collapse-toggle" id="menuitem-9-2-2" type="checkbox"/><label class="tocitem" for="menuitem-9-2-2"><span class="docs-label">Apis</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../openapi/Apis/AuthenticationApi/">AuthenticationApi</a></li><li><a class="tocitem" href="../openapi/Apis/ModelsApi/">ModelsApi</a></li><li><a class="tocitem" href="../openapi/Apis/ServerApi/">ServerApi</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-9-2-3" type="checkbox"/><label class="tocitem" for="menuitem-9-2-3"><span class="docs-label">Models</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../openapi/Models/AttachMetadataToEventRequest/">AttachMetadataToEventRequest</a></li><li><a class="tocitem" href="../openapi/Models/CreateModelRequest/">CreateModelRequest</a></li><li><a class="tocitem" href="../openapi/Models/CreateModelResponse/">CreateModelResponse</a></li><li><a class="tocitem" href="../openapi/Models/CreatedModelInfo/">CreatedModelInfo</a></li><li><a class="tocitem" href="../openapi/Models/DeleteModelRequest/">DeleteModelRequest</a></li><li><a class="tocitem" href="../openapi/Models/EpisodeInfo/">EpisodeInfo</a></li><li><a class="tocitem" href="../openapi/Models/ErrorResponse/">ErrorResponse</a></li><li><a class="tocitem" href="../openapi/Models/InferRequest/">InferRequest</a></li><li><a class="tocitem" href="../openapi/Models/InferResponse/">InferResponse</a></li><li><a class="tocitem" href="../openapi/Models/LearnRequest/">LearnRequest</a></li><li><a class="tocitem" href="../openapi/Models/LearnResponse/">LearnResponse</a></li><li><a class="tocitem" href="../openapi/Models/LightweightModelDetails/">LightweightModelDetails</a></li><li><a class="tocitem" href="../openapi/Models/ModelDetails/">ModelDetails</a></li><li><a class="tocitem" href="../openapi/Models/ModelList/">ModelList</a></li><li><a class="tocitem" href="../openapi/Models/ModelState/">ModelState</a></li><li><a class="tocitem" href="../openapi/Models/NotFoundResponse/">NotFoundResponse</a></li><li><a class="tocitem" href="../openapi/Models/PingResponse/">PingResponse</a></li><li><a class="tocitem" href="../openapi/Models/ServerInfo/">ServerInfo</a></li><li><a class="tocitem" href="../openapi/Models/SuccessResponse/">SuccessResponse</a></li><li><a class="tocitem" href="../openapi/Models/TokenResponse/">TokenResponse</a></li><li><a class="tocitem" href="../openapi/Models/UnauthorizedResponse/">UnauthorizedResponse</a></li></ul></li></ul></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Developers guide</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Developers guide</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/lazydynamics/RxInferServer" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/lazydynamics/RxInferServer/blob/main/docs/src/developers-guide.md" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="developers-guide"><a class="docs-heading-anchor" href="#developers-guide">Developers guide</a><a id="developers-guide-1"></a><a class="docs-heading-anchor-permalink" href="#developers-guide" title="Permalink"></a></h1><p>This section describes the development process for the RxInferServer.jl project and how to setup the development environment.</p><h2 id="OpenAPI-Specification-and-Code-Generation"><a class="docs-heading-anchor" href="#OpenAPI-Specification-and-Code-Generation">OpenAPI Specification and Code Generation</a><a id="OpenAPI-Specification-and-Code-Generation-1"></a><a class="docs-heading-anchor-permalink" href="#OpenAPI-Specification-and-Code-Generation" title="Permalink"></a></h2><p>This repository includes an OpenAPI specification for the RxInferServer.jl API and tools to generate Julia server and client code from it.</p><h3 id="Prerequisites"><a class="docs-heading-anchor" href="#Prerequisites">Prerequisites</a><a id="Prerequisites-1"></a><a class="docs-heading-anchor-permalink" href="#Prerequisites" title="Permalink"></a></h3><ul><li>Docker and Docker Compose installed on your system</li><li>Visual Studio Code (or your preferred code editor) for editing the OpenAPI specification</li></ul><h3 id="Development-environment-with-Docker"><a class="docs-heading-anchor" href="#Development-environment-with-Docker">Development environment with Docker</a><a id="Development-environment-with-Docker-1"></a><a class="docs-heading-anchor-permalink" href="#Development-environment-with-Docker" title="Permalink"></a></h3><p>To start the development environment with Docker, from the root directory of the repository, run:</p><pre><code class="language-bash hljs">docker compose up -d --build --wait --wait-timeout 240</code></pre><p>Or use the Makefile convenience command:</p><pre><code class="language-bash hljs">make docker-start</code></pre><div class="admonition is-info"><header class="admonition-header">Note</header><div class="admonition-body"><p>The very first startup will be slower as all Docker images are being pulled and volumes are being created. Subsequent startups will be faster.</p></div></div><p>To stop the Docker environment:</p><pre><code class="language-bash hljs">make docker-stop</code></pre><p>Or alternatively, use VSCode extension &quot;Docker&quot; to start the containers. The VSCode extension also allows to check the logs and attach to the running containers. Read more about docker here: <a href="https://docs.docker.com/get-started/">Docker</a>.</p><p>The <code>docker-compose.yaml</code> currently has the following services:</p><ul><li>Swagger UI: a web interface for visualizing and testing the OpenAPI specification, the UI is available at <code>http://localhost:8080</code> and allows to test the API endpoints, the endpoints can also be tested in VSCode by opening <code>spec.yaml</code> directly and clicking on the &quot;Try it&quot; button</li><li>MongoDB Atlas Local: a local MongoDB instance running on <code>localhost:27017</code> that mimics MongoDB Atlas functionality for development and testing purposes</li></ul><h3 id="Starting-the-RxInferServer"><a class="docs-heading-anchor" href="#Starting-the-RxInferServer">Starting the RxInferServer</a><a id="Starting-the-RxInferServer-1"></a><a class="docs-heading-anchor-permalink" href="#Starting-the-RxInferServer" title="Permalink"></a></h3><p>Unlike the Docker services, RxInferServer now needs to be started manually. To start the server, run:</p><pre><code class="language-bash hljs">make serve</code></pre><p>This command is a wrapper around:</p><pre><code class="language-bash hljs">julia --project -e &#39;using RxInferServer; serve()&#39;</code></pre><p>This will start the server on <code>localhost:8000</code> with hot-reloading enabled by default. Use the <code>LocalPreferences.toml</code> file to configure the server settings.</p><div class="admonition is-info"><header class="admonition-header">Note</header><div class="admonition-body"><p>The very first startup will be slower as all Julia packages are being installed and precompiled. Subsequent startups will be faster as the system image is already built unless there is a significant change to the dependencies of the project or its source code in which case Julia will recompile the project again.</p></div></div><p>You can verify the server is running by accessing the health check endpoint:</p><pre><code class="language-bash hljs">curl -f localhost:8000/v1/ping</code></pre><p>If the server is running correctly, this should return a successful response.</p><div class="admonition is-info"><header class="admonition-header">Note</header><div class="admonition-body"><p>Server supports hot-reloading, which automatically updates endpoints when code changes are detected. This feature is enabled by default but can be disabled using preferences. See <a href="../configuration/#hot-reloading-configuration">Hot Reloading</a> for more details.</p></div></div><h3 id="Hot-Reloading"><a class="docs-heading-anchor" href="#Hot-Reloading">Hot-Reloading</a><a id="Hot-Reloading-1"></a><a class="docs-heading-anchor-permalink" href="#Hot-Reloading" title="Permalink"></a></h3><p>RxInferServer includes built-in hot-reloading that automatically applies code changes without requiring server restarts.</p><h4 id="Overview"><a class="docs-heading-anchor" href="#Overview">Overview</a><a id="Overview-1"></a><a class="docs-heading-anchor-permalink" href="#Overview" title="Permalink"></a></h4><p>The server uses two separate hot-reloading mechanisms:</p><ul><li><strong>Source Code Hot-Reloading</strong>: Updates API endpoints and server code</li><li><strong>Models Hot-Reloading</strong>: Refreshes models when their files change</li></ul><p>Both mechanisms monitor files for changes using <code>Revise.jl</code> and automatically apply updates when detected. Console logs with the <code>[HOT-RELOAD]</code> prefix indicate reloading activity.</p><h4 id="Controlling-Hot-Reloading"><a class="docs-heading-anchor" href="#Controlling-Hot-Reloading">Controlling Hot-Reloading</a><a id="Controlling-Hot-Reloading-1"></a><a class="docs-heading-anchor-permalink" href="#Controlling-Hot-Reloading" title="Permalink"></a></h4><p>Hot reloading can be controlled through the <code>RXINFER_SERVER_ENABLE_HOT_RELOAD</code> environment variable:</p><pre><code class="language-bash hljs"># Enable hot reloading (default is &quot;false&quot;)
export RXINFER_SERVER_ENABLE_HOT_RELOAD=&quot;true&quot;

# Start the server with hot reloading enabled
make serve</code></pre><div class="admonition is-info"><header class="admonition-header">Note</header><div class="admonition-body"><p>Hot reloading requires <code>Revise.jl</code> to be loaded in the current Julia session. If <code>Revise.jl</code> is not loaded, hot reloading will be disabled even if enabled through the environment variable.</p></div></div><h4 id="Best-Practices-and-Troubleshooting"><a class="docs-heading-anchor" href="#Best-Practices-and-Troubleshooting">Best Practices and Troubleshooting</a><a id="Best-Practices-and-Troubleshooting-1"></a><a class="docs-heading-anchor-permalink" href="#Best-Practices-and-Troubleshooting" title="Permalink"></a></h4><ul><li>Hot-reloading works best for typical code changes but complex structural changes may require server restart</li><li>Disable hot-reloading in production environments by setting <code>RXINFER_SERVER_ENABLE_HOT_RELOAD=&quot;false&quot;</code></li><li>If issues occur, check logs for <code>[HOT-RELOAD]</code> errors and verify files are in monitored directories</li><li>When hot reloading is enabled but not working, ensure <code>Revise.jl</code> is loaded in your Julia session</li></ul><p>See <a href="../configuration/#hot-reloading-configuration">Hot Reloading</a> for more details.</p><h3 id="Development-Workflow-with-Makefile"><a class="docs-heading-anchor" href="#Development-Workflow-with-Makefile">Development Workflow with Makefile</a><a id="Development-Workflow-with-Makefile-1"></a><a class="docs-heading-anchor-permalink" href="#Development-Workflow-with-Makefile" title="Permalink"></a></h3><p>The project includes a Makefile with various commands to streamline common development tasks. Here are some of the most useful commands:</p><pre><code class="language-bash hljs"># Start the Docker environment (Swagger UI and MongoDB)
make docker-start

# Stop the Docker environment
make docker-stop

# Start the RxInferServer, with debug logs enabled
make serve

# Run the test suite
make test

# Install dependencies
make deps

# Build documentation
make docs

# Generate OpenAPI client code
make generate-client

# Generate OpenAPI server code
make generate-server

# Generate both client and server code
make generate-all

# Format Julia code
make format

# Check code formatting without modifying files
make check-format</code></pre><p>For a full list of available commands, run:</p><pre><code class="language-bash hljs">make help</code></pre><h3 id="MongoDB-in-Development"><a class="docs-heading-anchor" href="#MongoDB-in-Development">MongoDB in Development</a><a id="MongoDB-in-Development-1"></a><a class="docs-heading-anchor-permalink" href="#MongoDB-in-Development" title="Permalink"></a></h3><p>The development environment includes a MongoDB Atlas Local instance that&#39;s accessible to the RxInferServer service. The connection is pre-configured and available through the environment variable <code>RXINFER_MONGODB_URL</code>.</p><h4 id="Connecting-with-MongoDB-Compass"><a class="docs-heading-anchor" href="#Connecting-with-MongoDB-Compass">Connecting with MongoDB Compass</a><a id="Connecting-with-MongoDB-Compass-1"></a><a class="docs-heading-anchor-permalink" href="#Connecting-with-MongoDB-Compass" title="Permalink"></a></h4><p><a href="https://www.mongodb.com/products/compass">MongoDB Compass</a> is a GUI for MongoDB that allows you to explore and manipulate your data visually. To connect to the development MongoDB instance:</p><ol><li>Download and install <a href="https://www.mongodb.com/try/download/compass">MongoDB Compass</a></li><li>Open MongoDB Compass</li><li>Use the following connection string to connect to the local MongoDB instance:<pre><code class="nohighlight hljs">mongodb://localhost:27017</code></pre></li><li>Click &quot;Connect&quot;</li></ol><p>Note that when connecting from your host machine (outside the Docker network), you&#39;ll always use <code>localhost:27017</code> as the address (except when using the <code>RXINFER_MONGODB_URL</code> environment variable). This is because the Docker port mapping makes the database accessible at this address on your host machine.</p><p>When running in the Docker development environment, the connection URL will automatically point to the MongoDB container (<code>mongodb://database:27017</code>).</p><h3 id="Editing-the-OpenAPI-Specification"><a class="docs-heading-anchor" href="#Editing-the-OpenAPI-Specification">Editing the OpenAPI Specification</a><a id="Editing-the-OpenAPI-Specification-1"></a><a class="docs-heading-anchor-permalink" href="#Editing-the-OpenAPI-Specification" title="Permalink"></a></h3><p>Edit the <code>openapi/spec.yaml</code> file directly in VSCode or your preferred code editor. The OpenAPI specification uses the YAML format and follows the <a href="https://swagger.io/specification/">OpenAPI 3</a> standard.</p><p>Some useful VS Code extensions for working with OpenAPI specifications include:</p><ul><li>&quot;OpenAPI (Swagger) Editor&quot; by 42Crunch</li><li>&quot;YAML&quot; by Red Hat</li><li>&quot;Docker&quot; by Microsoft</li></ul><h3 id="Accessing-Swagger-UI"><a class="docs-heading-anchor" href="#Accessing-Swagger-UI">Accessing Swagger UI</a><a id="Accessing-Swagger-UI-1"></a><a class="docs-heading-anchor-permalink" href="#Accessing-Swagger-UI" title="Permalink"></a></h3><p>Open your browser and navigate to: http://localhost:8080</p><p>The Swagger UI will automatically load the <code>openapi/spec.yaml</code> file, allowing you to visualize and test your API without leaving your browser. Alternatively, you can test the API endpoints in VSCode by opening <code>spec.yaml</code> directly and clicking on the &quot;Try it&quot; button.</p><h4 id="Testing-Authenticated-Endpoints"><a class="docs-heading-anchor" href="#Testing-Authenticated-Endpoints">Testing Authenticated Endpoints</a><a id="Testing-Authenticated-Endpoints-1"></a><a class="docs-heading-anchor-permalink" href="#Testing-Authenticated-Endpoints" title="Permalink"></a></h4><p>The API uses standard Bearer token authentication with the <code>Authorization</code> header. Here&#39;s how to test authenticated endpoints:</p><ol><li><p><strong>Get a token</strong>:</p><ul><li>Navigate to the <code>/generate-token</code> endpoint</li><li>Click &quot;Try it out&quot; followed by &quot;Execute&quot;</li><li>Copy the token from the response</li><li><strong>For development</strong>: You can use the predefined dev token (<code>dev-token</code>) configured in the environment variable <code>RXINFER_SERVER_DEV_TOKEN</code></li></ul></li><li><p><strong>Set up authentication</strong>:</p><ul><li>Click the &quot;Authorize&quot; button (padlock icon) at the top of Swagger UI</li><li>Enter your token in the value field (without &quot;Bearer&quot; prefix)</li><li>For local development, you can enter <code>dev-token</code></li><li>Click &quot;Authorize&quot; and &quot;Close&quot;</li><li>The client will send requests with <code>Authorization: Bearer your-token-here</code></li></ul></li><li><p><strong>Test protected endpoints</strong>:</p><ul><li>All subsequent requests will include the authorization header</li><li>The token remains active until you log out or close the browser</li><li>By default, all endpoints except <code>/generate-token</code> and <code>/ping</code> require authentication</li></ul></li></ol><p>See <a href="../configuration/#configuration">Configuration</a> for more details on setting up authentication for development and production.</p><h3 id="Generating-Code-from-OpenAPI-Specification"><a class="docs-heading-anchor" href="#Generating-Code-from-OpenAPI-Specification">Generating Code from OpenAPI Specification</a><a id="Generating-Code-from-OpenAPI-Specification-1"></a><a class="docs-heading-anchor-permalink" href="#Generating-Code-from-OpenAPI-Specification" title="Permalink"></a></h3><p>You can generate both server and client code from the OpenAPI specification using the provided scripts and Makefile commands.</p><h4 id="Using-Makefile-Commands"><a class="docs-heading-anchor" href="#Using-Makefile-Commands">Using Makefile Commands</a><a id="Using-Makefile-Commands-1"></a><a class="docs-heading-anchor-permalink" href="#Using-Makefile-Commands" title="Permalink"></a></h4><p>The project includes several convenient Makefile commands for code generation:</p><pre><code class="language-bash hljs"># Generate only the client code
make generate-client

# Generate only the server code
make generate-server

# Generate both client and server code in one go
make generate-all</code></pre><p>These commands use the underlying combined script to perform the code generation with appropriate settings.</p><h4 id="Using-the-Generation-Script-Directly"><a class="docs-heading-anchor" href="#Using-the-Generation-Script-Directly">Using the Generation Script Directly</a><a id="Using-the-Generation-Script-Directly-1"></a><a class="docs-heading-anchor-permalink" href="#Using-the-Generation-Script-Directly" title="Permalink"></a></h4><p>You can also run the generation script directly with various options:</p><pre><code class="language-bash hljs"># Generate both client and server code (default)
./openapi/generate.sh all

# Generate only client code
./openapi/generate.sh client

# Generate only server code
./openapi/generate.sh server

# Generate to a custom output directory
OPENAPI_OUTPUT_DIR=&quot;/path/to/output&quot; ./openapi/generate.sh all</code></pre><p>The script checks if Docker is running, then uses the OpenAPI Generator Docker image to generate Julia code based on the OpenAPI specification.</p><h5 id="Customizing-Output-Location"><a class="docs-heading-anchor" href="#Customizing-Output-Location">Customizing Output Location</a><a id="Customizing-Output-Location-1"></a><a class="docs-heading-anchor-permalink" href="#Customizing-Output-Location" title="Permalink"></a></h5><p>By default, generated code is placed in the <code>openapi/client</code> and <code>openapi/server</code> directories. You can customize this by setting the <code>OPENAPI_OUTPUT_DIR</code> environment variable:</p><pre><code class="language-bash hljs"># Example: Generate code to a different directory
OPENAPI_OUTPUT_DIR=&quot;/path/to/custom/directory&quot; ./openapi/generate.sh all</code></pre><p>The script will create <code>client</code> and <code>server</code> subdirectories under the specified path.</p><div class="admonition is-info"><header class="admonition-header">Note</header><div class="admonition-body"><p>After the re-generation of the server code, the initial startup time will be longer due to initial compilation of the generated code.</p></div></div><h3 id="Working-with-the-Generated-Code"><a class="docs-heading-anchor" href="#Working-with-the-Generated-Code">Working with the Generated Code</a><a id="Working-with-the-Generated-Code-1"></a><a class="docs-heading-anchor-permalink" href="#Working-with-the-Generated-Code" title="Permalink"></a></h3><h4 id="Server-Code"><a class="docs-heading-anchor" href="#Server-Code">Server Code</a><a id="Server-Code-1"></a><a class="docs-heading-anchor-permalink" href="#Server-Code" title="Permalink"></a></h4><p>The generated server code will be placed in the <code>openapi/server</code> directory as a separate Julia module and should never be modified directly. The <code>RxInferServer.jl</code> package will automatically load the generated code when the package is loaded. </p><p>The generated code does not contain the actual implementation of the endpoints. The actual implementation is located in the <code>src/tags</code> directory for each tag specified in the OpenAPI specification. You can also manually open the <code>openapi/server/src/RxInferServerOpenAPI.jl</code> file to view which endpoints must be implemented. An example generated output might look like this:</p><pre><code class="language-julia hljs">@doc raw&quot;&quot;&quot;
Encapsulates generated server code for RxInferServerOpenAPI

The following server methods must be implemented:

- **get_server_info**
    - *invocation:* GET /info
    - *signature:* get_server_info(req::HTTP.Request;) -&gt; ServerInfo
&quot;&quot;&quot;
module RxInferServerOpenAPI

# ... a lot of auto generated code ...

end</code></pre><p>This tells you that you need to implement the <code>get_server_info</code> function that must return a <code>ServerInfo</code> object as defined in the <code>openapi/spec.yaml</code> file. You however, can also return other types of objects, for example <code>ErrorResponse</code> or <code>UnauthorizedResponse</code>. Those will be converted to the appropriate HTTP response codes by the server.</p><h4 id="Client-Code"><a class="docs-heading-anchor" href="#Client-Code">Client Code</a><a id="Client-Code-1"></a><a class="docs-heading-anchor-permalink" href="#Client-Code" title="Permalink"></a></h4><p>The generated client code will be placed in the <code>openapi/client</code> directory as a separate Julia module. This client code can be used to interact with the RxInfer API from Julia applications. The client provides Julia functions that correspond to each API endpoint defined in the OpenAPI specification.</p><h3 id="Customizing-the-OpenAPI-Specification"><a class="docs-heading-anchor" href="#Customizing-the-OpenAPI-Specification">Customizing the OpenAPI Specification</a><a id="Customizing-the-OpenAPI-Specification-1"></a><a class="docs-heading-anchor-permalink" href="#Customizing-the-OpenAPI-Specification" title="Permalink"></a></h3><p>Edit the <code>openapi/spec.yaml</code> file directly in your code editor to customize your API specification. </p><div class="admonition is-warning"><header class="admonition-header">Important</header><div class="admonition-body"><p>After making ANY changes to the OpenAPI specification, you MUST regenerate both the server and client code by running the generation scripts again or using the Makefile command <code>make generate-all</code>.</p></div></div><p>See <a href="#generating-code-from-openapi-specification">Generating Code from OpenAPI Specification</a> for more details.</p><p>Failing to regenerate the code after changes to the OpenAPI specification will result in inconsistencies between your API specification and the actual server implementation. The code is not being re-generated automatically for two primary reasons:</p><ul><li>It might be somewhat slow for a lot of endpoints</li><li>It most likely will cause <code>Revise</code> errors with redefined structures </li></ul><h3 id="Additional-Resources"><a class="docs-heading-anchor" href="#Additional-Resources">Additional Resources</a><a id="Additional-Resources-1"></a><a class="docs-heading-anchor-permalink" href="#Additional-Resources" title="Permalink"></a></h3><ul><li><a href="https://swagger.io/specification/">OpenAPI Specification</a></li><li><a href="https://openapi-generator.tech/">OpenAPI Generator</a></li><li><a href="https://openapi-generator.tech/docs/generators/julia-server">Julia Server Template</a></li><li><a href="https://openapi-generator.tech/docs/generators/julia">Julia Client Template</a></li></ul><h3 id="Working-with-Authorization-in-Endpoints"><a class="docs-heading-anchor" href="#Working-with-Authorization-in-Endpoints">Working with Authorization in Endpoints</a><a id="Working-with-Authorization-in-Endpoints-1"></a><a class="docs-heading-anchor-permalink" href="#Working-with-Authorization-in-Endpoints" title="Permalink"></a></h3><p>Most endpoints in RxInferServer require authentication. The middleware automatically handles token validation, but your endpoint implementation often needs to access the current user&#39;s token or roles for authorization decisions.</p><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="RxInferServer.is_authorized" href="#RxInferServer.is_authorized"><code>RxInferServer.is_authorized</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">is_authorized()::Bool</code></pre><p>Checks if the current request is authenticated. Returns <code>true</code> if a token is available in the current scope, <code>false</code> otherwise.</p><p>See also: <a href="#RxInferServer.current_token"><code>current_token</code></a>, <a href="#RxInferServer.current_roles"><code>current_roles</code></a></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/lazydynamics/RxInferServer/blob/4023e3f91600db3f2e447a041232128abd84cf22/src/middleware.jl#L228-L235">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="RxInferServer.current_token" href="#RxInferServer.current_token"><code>RxInferServer.current_token</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">current_token()::String</code></pre><p>Returns the current authenticated user&#39;s token string. This function should only be called within endpoints that require authentication.</p><p>See also: <a href="#RxInferServer.is_authorized"><code>is_authorized</code></a>, <a href="#RxInferServer.current_roles"><code>current_roles</code></a></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/lazydynamics/RxInferServer/blob/4023e3f91600db3f2e447a041232128abd84cf22/src/middleware.jl#L241-L248">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="RxInferServer.current_roles" href="#RxInferServer.current_roles"><code>RxInferServer.current_roles</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">current_roles()::Vector{String}</code></pre><p>Returns the roles assigned to the current authenticated user as a vector of strings. This function should only be called within endpoints that require authentication.</p><p>See also: <a href="#RxInferServer.is_authorized"><code>is_authorized</code></a>, <a href="#RxInferServer.current_token"><code>current_token</code></a></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/lazydynamics/RxInferServer/blob/4023e3f91600db3f2e447a041232128abd84cf22/src/middleware.jl#L256-L263">source</a></section></article><h4 id="Using-current_token()-and-current_roles()"><a class="docs-heading-anchor" href="#Using-current_token()-and-current_roles()">Using <code>current_token()</code> and <code>current_roles()</code></a><a id="Using-current_token()-and-current_roles()-1"></a><a class="docs-heading-anchor-permalink" href="#Using-current_token()-and-current_roles()" title="Permalink"></a></h4><p>RxInferServer provides two helper functions for accessing the authenticated user&#39;s information:</p><ul><li><code>current_token()</code>: Returns the authenticated user&#39;s token string</li><li><code>current_roles()</code>: Returns a vector of role strings assigned to the current user</li></ul><p>Here&#39;s how to implement an endpoint that requires authorization:</p><pre><code class="language-julia hljs">function get_protected_resource(req::HTTP.Request)::HTTP.Response
    # The middleware has already verified that the request is authenticated
    
    # If you need the token for any reason (e.g., logging, user-specific resources)
    token = current_token()
    
    # If you need to check roles for authorization
    roles = current_roles()
    
    # Example: Filter resources based on user roles
    if &quot;admin&quot; in roles
        # Return admin-level resources
    else
        # Return regular user resources
    end
    
    return HTTP.Response(200, your_response_data)
end</code></pre><h4 id="Example:-Role-Based-Resource-Filtering"><a class="docs-heading-anchor" href="#Example:-Role-Based-Resource-Filtering">Example: Role-Based Resource Filtering</a><a id="Example:-Role-Based-Resource-Filtering-1"></a><a class="docs-heading-anchor-permalink" href="#Example:-Role-Based-Resource-Filtering" title="Permalink"></a></h4><p>Here&#39;s a real example from the <code>get_models</code> endpoint that filters models based on user roles:</p><pre><code class="language-julia hljs">function get_models(req::HTTP.Request)::HTTP.Response
    # Get models from storage
    models = Models.get_models()

    # Get current user&#39;s roles
    roles = current_roles()

    # Filter models by checking if any of the model&#39;s roles
    # match any of the user&#39;s roles
    filtered_models = filter(models) do model
        return any(r -&gt; r in roles, model.roles)
    end

    # rest of the implementation...
end</code></pre><div class="admonition is-info"><header class="admonition-header">Note</header><div class="admonition-body"><p>These functions will throw an error if called in a non-authenticated context. Always ensure they are only called in endpoints protected by the authentication middleware.</p></div></div><h2 id="API-Reference"><a class="docs-heading-anchor" href="#API-Reference">API Reference</a><a id="API-Reference-1"></a><a class="docs-heading-anchor-permalink" href="#API-Reference" title="Permalink"></a></h2><h3 id="Server-Lifecycle-Management"><a class="docs-heading-anchor" href="#Server-Lifecycle-Management">Server Lifecycle Management</a><a id="Server-Lifecycle-Management-1"></a><a class="docs-heading-anchor-permalink" href="#Server-Lifecycle-Management" title="Permalink"></a></h3><p>RxInferServer uses a <code>ServerState</code> struct to manage the server&#39;s lifecycle and state. This is created automatically when the server is instantiated with the <a href="../getting-started/#RxInferServer.serve"><code>RxInferServer.serve</code></a> function. This structure is used internally to keep track of the server&#39;s status and manage the server&#39;s lifecycle. The most notable use case is for the hot-reloading mechanism to check if the server is running and/or has encountered an error. The hot-reloading tasks also track the server pid file to trigger the hot-reloading tasks when the server is instantiated or shuts down.</p><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="RxInferServer.ServerState" href="#RxInferServer.ServerState"><code>RxInferServer.ServerState</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">ServerState</code></pre><p>A structure that keeps track of the server state, including whether it is running or has errored. Used internally to check server status and manage server lifecycle events.</p><p><strong>Fields</strong></p><ul><li><code>is_running::Threads.Atomic{Bool}</code>: Atomic boolean indicating if server is currently running</li><li><code>is_errored::Threads.Atomic{Bool}</code>: Atomic boolean indicating if server has encountered an error</li><li><code>event_instantiated::Base.Threads.Event</code>: Event triggered when server is instantiated</li><li><code>pid_file::String</code>: File path used to trigger the hot reload task</li><li><code>router::HTTP.Router</code>: The HTTP router handling server requests</li><li><code>ip::Sockets.IPv4</code>: IP address the server binds to</li><li><code>port::Int</code>: Port number the server listens on</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/lazydynamics/RxInferServer/blob/4023e3f91600db3f2e447a041232128abd84cf22/src/RxInferServer.jl#L46-L60">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="RxInferServer.is_server_running" href="#RxInferServer.is_server_running"><code>RxInferServer.is_server_running</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">is_server_running(server::ServerState) -&gt; Bool</code></pre><p>Check if the server is currently running.</p><p>See also: <a href="#RxInferServer.set_server_running"><code>RxInferServer.set_server_running</code></a></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/lazydynamics/RxInferServer/blob/4023e3f91600db3f2e447a041232128abd84cf22/src/RxInferServer.jl#L84-L90">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="RxInferServer.set_server_running" href="#RxInferServer.set_server_running"><code>RxInferServer.set_server_running</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">set_server_running(server::ServerState, running::Bool)</code></pre><p>Set the server running flag to the given value.</p><p>See also: <a href="#RxInferServer.is_server_running"><code>RxInferServer.is_server_running</code></a></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/lazydynamics/RxInferServer/blob/4023e3f91600db3f2e447a041232128abd84cf22/src/RxInferServer.jl#L95-L101">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="RxInferServer.is_server_errored" href="#RxInferServer.is_server_errored"><code>RxInferServer.is_server_errored</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">is_server_errored(server::ServerState) -&gt; Bool</code></pre><p>Check if the server has encountered an error.</p><p>See also: <a href="#RxInferServer.set_server_errored"><code>RxInferServer.set_server_errored</code></a></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/lazydynamics/RxInferServer/blob/4023e3f91600db3f2e447a041232128abd84cf22/src/RxInferServer.jl#L106-L112">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="RxInferServer.set_server_errored" href="#RxInferServer.set_server_errored"><code>RxInferServer.set_server_errored</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">set_server_errored(server::ServerState, errored::Bool)</code></pre><p>Set the server errored flag to the given value.</p><p>See also: <a href="#RxInferServer.is_server_errored"><code>RxInferServer.is_server_errored</code></a></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/lazydynamics/RxInferServer/blob/4023e3f91600db3f2e447a041232128abd84cf22/src/RxInferServer.jl#L117-L123">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="RxInferServer.notify_instantiated" href="#RxInferServer.notify_instantiated"><code>RxInferServer.notify_instantiated</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">notify_instantiated(server::ServerState)</code></pre><p>Notify threads which are waiting for the server to be instantiated.</p><p>See also: <a href="#RxInferServer.wait_instantiated"><code>RxInferServer.wait_instantiated</code></a></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/lazydynamics/RxInferServer/blob/4023e3f91600db3f2e447a041232128abd84cf22/src/RxInferServer.jl#L128-L134">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="RxInferServer.wait_instantiated" href="#RxInferServer.wait_instantiated"><code>RxInferServer.wait_instantiated</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">wait_instantiated(server::ServerState)</code></pre><p>Wait for the server to be instantiated.</p><p>See also: <a href="#RxInferServer.notify_instantiated"><code>RxInferServer.notify_instantiated</code></a></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/lazydynamics/RxInferServer/blob/4023e3f91600db3f2e447a041232128abd84cf22/src/RxInferServer.jl#L139-L145">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="RxInferServer.pid_server_event" href="#RxInferServer.pid_server_event"><code>RxInferServer.pid_server_event</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">pid_server_event(server::ServerState, event::String)</code></pre><p>Logs an event to the server&#39;s PID file. This is used, for example, to trigger the hot reload task when the server is instantiated or shuts down.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/lazydynamics/RxInferServer/blob/4023e3f91600db3f2e447a041232128abd84cf22/src/RxInferServer.jl#L72-L77">source</a></section></article><script type="module">import mermaid from 'https://cdn.jsdelivr.net/npm/mermaid@11/dist/mermaid.esm.min.mjs';
mermaid.initialize({
    startOnLoad: true,
    theme: "neutral"
});
</script></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../configuration/">« Configuration</a><a class="docs-footer-nextpage" href="../models/">Models »</a><div class="flexbox-break"></div><p class="footer-message">Created by <a href="https://github.com/ReactiveBayes">ReactiveBayes</a>, fully sponsored by <a href="https://lazydynamics.com/">LazyDynamics</a>, powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="catppuccin-latte">catppuccin-latte</option><option value="catppuccin-frappe">catppuccin-frappe</option><option value="catppuccin-macchiato">catppuccin-macchiato</option><option value="catppuccin-mocha">catppuccin-mocha</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.9.0 on <span class="colophon-date" title="Friday 21 March 2025 09:43">Friday 21 March 2025</span>. Using Julia version 1.11.4.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
